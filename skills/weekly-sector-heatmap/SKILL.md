---
name: weekly-sector-heatmap
description: 生成股票板块周热度跟踪图。用于收集整理本周热门股票板块TOP10，生成交互式热力图HTML文件。当用户提到"板块热度"、"热门板块"、"板块热力图"、"周板块分析"或需要分析股票市场板块趋势时使用此技能。
---

# 周板块热度图

通过收集网络信息，整理本周热门股票板块TOP10，生成交互式热力跟踪图HTML文件。

## 工作流程

### 第一步: 收集板块热度数据

使用WebSearch工具搜索最新的股票板块热度信息:

```
搜索词示例:
- "本周A股热门板块 2026"
- "股票板块资金流向 本周"
- "A股板块涨幅排行 最近一周"
- "东方财富 板块热度 周排行"
```

关键数据来源:
- 东方财富网板块行情
- 同花顺板块排行
- 新浪财经板块资金流向
- 雪球热门板块讨论

### 第二步: 整理数据格式

将收集的数据整理为JSON格式:

```json
{
  "sectors": ["人工智能", "新能源车", "光伏", "半导体", "医药生物", "白酒", "银行", "房地产", "军工", "消费电子"],
  "days": ["周一", "周二", "周三", "周四", "周五"],
  "data": {
    "周一": {"人工智能": 85, "新能源车": 72, "光伏": 68, ...},
    "周二": {"人工智能": 78, "新能源车": 80, "光伏": 75, ...},
    ...
  }
}
```

热度指数说明 (0-100):
- 90-100: 极热 (资金大量流入，涨幅领先)
- 70-89: 热门 (关注度高，表现活跃)
- 50-69: 一般 (正常波动)
- 30-49: 冷淡 (关注度低)
- 0-29: 极冷 (资金流出，跌幅较大)

### 第三步: 生成热力图

运行生成脚本:

```bash
# 使用JSON数据文件
python scripts/generate_heatmap.py --data data.json --output sector_heatmap.html

# 使用CSV数据文件
python scripts/generate_heatmap.py --data data.csv --output sector_heatmap.html

# 指定周期描述
python scripts/generate_heatmap.py --data data.json --output sector_heatmap.html --week "2026-02-03 至 2026-02-07"

# 生成示例演示图
python scripts/generate_heatmap.py --sample --output demo_heatmap.html
```

CSV文件格式:
```csv
,人工智能,新能源车,光伏,半导体,医药生物
周一,85,72,68,65,60
周二,78,80,75,70,58
周三,82,75,70,72,62
周四,90,78,72,68,55
周五,88,82,68,75,60
```

## 输出说明

生成的HTML文件包含:

1. **统计卡片**: 最热板块、最高热度、平均热度、追踪板块数
2. **热力图**: 板块×日期的热度矩阵，颜色越深热度越高
3. **趋势图**: TOP5板块的周内走势折线图
4. **排行榜**: 本周热门板块TOP10列表

HTML文件可直接在浏览器中打开，支持交互式查看。

## 快速使用示例

用户请求: "帮我生成本周的板块热度图"

执行步骤:
1. 搜索"本周A股热门板块 资金流向 2026"
2. 整理TOP10板块及每日热度数据
3. 创建JSON数据文件
4. 运行 `python scripts/generate_heatmap.py --data data.json --output 本周板块热度图.html`
5. 返回HTML文件路径供用户查看

## scripts/

- `generate_heatmap.py`: 热力图生成脚本，支持JSON/CSV输入，输出交互式HTML
