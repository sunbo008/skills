---
name: cpp-task-driven-dev
description: C++é¡¹ç›®è¿­ä»£å¼€å‘å·¥ä½œæµã€‚æ•´åˆopenspecéœ€æ±‚åˆ†æä¸ä»»åŠ¡æ‹†è§£ã€Google C++æ¶æ„å¸ˆè§’è‰²å®¡æ ¸ã€cursor-agent CLIä»£ç å¼€å‘ã€å•æµ‹ä¸è‡ªåŠ¨åŒ–æµ‹è¯•ã€éªŒæ”¶éªŒè¯çš„é—­ç¯è¿­ä»£æµç¨‹ã€‚å½“ç”¨æˆ·æåˆ°"ä»»åŠ¡å¼€å‘"ã€"è¿­ä»£å¼€å‘"ã€"C++å¼€å‘æµç¨‹"ã€"C++å¼€å‘"ã€"openspecéœ€æ±‚"ã€"æ¶æ„å®¡æ ¸"ã€"cursor-agentå¼€å‘"æˆ–éœ€è¦æŒ‰æµç¨‹å®ŒæˆC++ç¼–ç ä»»åŠ¡æ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
---

# C++ ä»»åŠ¡é©±åŠ¨è¿­ä»£å¼€å‘å·¥ä½œæµ

æ•´åˆ **OpenSpec éœ€æ±‚ç®¡ç†** + **Google C++ æ¶æ„å¸ˆå®¡æ ¸** + **Cursor-Agent å¼€å‘** + **æµ‹è¯•éªŒæ”¶** çš„é—­ç¯è¿­ä»£æµç¨‹ã€‚

## æ ¸å¿ƒåŸåˆ™

1. **OpenSpec é©±åŠ¨**: æ‰€æœ‰éœ€æ±‚é€šè¿‡ openspec ç»“æ„åŒ–ç®¡ç†ï¼Œartifacts æ˜¯å”¯ä¸€çš„éœ€æ±‚çœŸç›¸æº
2. **æ¶æ„å…ˆè¡Œ**: design.md å¿…é¡»é€šè¿‡ Google C++ æ¶æ„å¸ˆæ ‡å‡†å®¡æ ¸åæ‰èƒ½ç”Ÿæˆ tasks
3. **æµ‹è¯•é©±åŠ¨**: ä»£ç å’Œæµ‹è¯•åŒæ­¥æ¨è¿›ï¼Œä¸å…è®¸æ— æµ‹è¯•çš„ä»£ç 
4. **è¿­ä»£é—­ç¯**: verify ä¸é€šè¿‡åˆ™å›åˆ°å¯¹åº”é˜¶æ®µä¿®æ­£ï¼Œç›´åˆ°å®Œç¾

## å‰ç½®æ¡ä»¶

```bash
# ç¡®è®¤ openspec CLI å¯ç”¨
openspec status --json 2>&1 || echo "éœ€è¦å…ˆè¿è¡Œ openspec init"
```

## è¿­ä»£è¿›åº¦è·Ÿè¸ª

```
è¿­ä»£è½®æ¬¡: #N
Task Progress:
- [ ] é˜¶æ®µ1: éœ€æ±‚åˆ†æ (openspec explore + new/ff)
- [ ] é˜¶æ®µ2: æ¶æ„å®¡æ ¸ (Google C++ æ¶æ„å¸ˆå®¡æ ¸ design.md)
- [ ] é˜¶æ®µ3: ä»£ç å¼€å‘ (openspec apply + cursor-agent)
- [ ] é˜¶æ®µ4: æµ‹è¯•è°ƒè¯• (å•æµ‹ + è‡ªåŠ¨åŒ–)
- [ ] é˜¶æ®µ5: éªŒæ”¶ç¡®è®¤ (openspec verify)
çŠ¶æ€: è¿›è¡Œä¸­ | é€šè¿‡ | éœ€è¦å†æ¬¡è¿­ä»£
```

---

## é˜¶æ®µ1: éœ€æ±‚åˆ†æ (OpenSpec)

**ç›®æ ‡**: é€šè¿‡ openspec å°†ä»»åŠ¡æ‹†è§£ä¸ºç»“æ„åŒ–çš„ artifacts: proposal â†’ specs â†’ design â†’ tasksã€‚

### 1.1 æ¢ç´¢é—®é¢˜åŸŸ (openspec-explore)

å…ˆç”¨ explore æ¨¡å¼æ·±å…¥ç†è§£é—®é¢˜:

```bash
openspec list --json
```

**æ¢ç´¢è¦ç‚¹:**
- è¯»å–ç›¸å…³æºç ï¼Œç†è§£ç°æœ‰æ¶æ„
- ç”¨ ASCII å›¾ç¤ºæ¢³ç†æ¨¡å—å…³ç³»å’Œæ•°æ®æµ
- æ˜ç¡®é—®é¢˜è¾¹ç•Œã€çº¦æŸæ¡ä»¶
- è¯†åˆ«ä¸ç°æœ‰æ¨¡å—çš„æ¥å£ä¾èµ–

**æ¢ç´¢è¾“å‡ºç¤ºä¾‹:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç°æœ‰æ¨¡å—å…³ç³»                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ Module  â”‚â”€â”€â”€â”€â”€â”€â–¶â”‚ Module  â”‚        â”‚
â”‚   â”‚    A    â”‚       â”‚    B    â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                         â”‚
â”‚   å˜æ›´å½±å“: B çš„æ¥å£éœ€è¦æ‰©å±•            â”‚
â”‚   çº¦æŸ: ä¸èƒ½ç ´å Aâ†’B çš„ç°æœ‰è°ƒç”¨         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

æ¢ç´¢æ¸…æ™°åï¼Œå†³å®šä¸‹ä¸€æ­¥:
- éœ€æ±‚æ¸…æ™° â†’ ç›´æ¥ fast-forward ç”Ÿæˆæ‰€æœ‰ artifacts
- éœ€æ±‚å¤æ‚ â†’ é€æ­¥ continue åˆ›å»º artifacts

### 1.2 åˆ›å»º Change (openspec-new-change)

```bash
# åˆ›å»ºå˜æ›´å®¹å™¨
openspec new change "<kebab-case-name>"

# æŸ¥çœ‹çŠ¶æ€
openspec status --change "<name>"
```

ç”Ÿæˆç›®å½•ç»“æ„:
```
openspec/changes/<name>/
â”œâ”€â”€ proposal.md    â† WHY: ä¸ºä»€ä¹ˆåšè¿™ä¸ªå˜æ›´
â”œâ”€â”€ specs/         â† WHAT: ç²¾ç¡®çš„éœ€æ±‚è§„æ ¼
â”‚   â””â”€â”€ <capability>/spec.md
â”œâ”€â”€ design.md      â† HOW: æŠ€æœ¯æ–¹æ¡ˆè®¾è®¡
â””â”€â”€ tasks.md       â† TASKS: å®ç°ä»»åŠ¡æ¸…å•
```

### 1.3 å¡«å…… Artifacts

**æ–¹å¼A: Fast-Forward (æ¨èï¼Œé€‚åˆéœ€æ±‚æ˜ç¡®çš„åœºæ™¯)**

ä¸€æ¬¡æ€§ç”Ÿæˆæ‰€æœ‰ artifacts:

```bash
# è·å– artifact æ„å»ºé¡ºåº
openspec status --change "<name>" --json

# å¾ªç¯åˆ›å»ºæ¯ä¸ª artifact
openspec instructions <artifact-id> --change "<name>" --json
# â†’ è¯»å– template + dependencies â†’ åˆ›å»º artifact æ–‡ä»¶
```

**æ–¹å¼B: é€æ­¥ Continue (é€‚åˆéœ€æ±‚éœ€è¦åå¤ç¡®è®¤çš„åœºæ™¯)**

æ¯æ¬¡åˆ›å»ºä¸€ä¸ª artifactï¼Œç¡®è®¤åå†ç»§ç»­:

```bash
openspec instructions <next-ready-artifact> --change "<name>" --json
# â†’ åˆ›å»º artifact â†’ ç”¨æˆ·ç¡®è®¤ â†’ ä¸‹ä¸€ä¸ª
```

### 1.4 Artifacts ç¼–å†™è¦ç‚¹

**proposal.md** â€” æ•è· WHY:
```markdown
## Why
[1-2å¥è¯´æ˜é—®é¢˜/æœºä¼š]

## What Changes
- [å˜æ›´ç‚¹1]
- [å˜æ›´ç‚¹2]

## Capabilities
### New Capabilities
- `<capability-name>`: [ç®€è¿°]

## Impact
- `src/core/xxx/`: [å½±å“è¯´æ˜]
```

**specs/\<capability\>/spec.md** â€” å®šä¹‰ WHAT (å¯æµ‹è¯•çš„éœ€æ±‚):
```markdown
## ADDED Requirements

### Requirement: <éœ€æ±‚å>
<ç³»ç»Ÿåº”è¯¥åšä»€ä¹ˆ>

#### Scenario: <åœºæ™¯å>
- **WHEN** <è§¦å‘æ¡ä»¶>
- **THEN** <æœŸæœ›ç»“æœ>
- **AND** <é™„åŠ ç»“æœ>
```

**design.md** â€” å†³å®š HOW (âš ï¸ æ­¤æ–‡ä»¶éœ€è¦é˜¶æ®µ2æ¶æ„å®¡æ ¸):
```markdown
## Context
[å½“å‰çŠ¶æ€]

## Goals / Non-Goals

## Decisions
### Decision 1: [å…³é”®å†³ç­–]
[æ–¹æ¡ˆä¸ç†ç”±]

## Class Design
[ç±»å›¾/æ¥å£è®¾è®¡]
```

**tasks.md** â€” æ‹†è§£å®ç°æ­¥éª¤:
```markdown
## 1. æ ¸å¿ƒå®ç°
- [ ] 1.1 åˆ›å»ºæ¥å£å¤´æ–‡ä»¶ xxx.h
- [ ] 1.2 å®ç°æ ¸å¿ƒç±» xxx.cpp
- [ ] 1.3 ç¼–å†™å•å…ƒæµ‹è¯• xxx_test.cpp

## 2. é›†æˆ
- [ ] 2.1 æ›´æ–° CMakeLists.txt
- [ ] 2.2 é›†æˆæµ‹è¯•

## 3. å•å…ƒæµ‹è¯• (Google Test)
- [ ] 3.1 CMakeLists.txt ä¸­é›†æˆ GTest (ä¼˜å…ˆ find_packageï¼Œæœªæ‰¾åˆ°åˆ™ FetchContent è‡ªåŠ¨ä¸‹è½½)
- [ ] 3.2 ç¼–å†™å•å…ƒæµ‹è¯• xxx_test.cpp (å¯¹ç…§ specs ä¸­æ¯ä¸ª Scenario)
- [ ] 3.3 è¾¹ç•Œæ¡ä»¶æµ‹è¯• (ç©ºè¾“å…¥ã€æå€¼ã€é”™è¯¯è·¯å¾„)

**GTest é›†æˆå‚è€ƒ (CMakeLists.txt):**
```cmake
# ä¼˜å…ˆæŸ¥æ‰¾ç³»ç»Ÿå·²å®‰è£…çš„ GTestï¼Œæœªæ‰¾åˆ°åˆ™è‡ªåŠ¨ä¸‹è½½
find_package(GTest QUIET)
if(NOT GTest_FOUND)
    include(FetchContent)
    FetchContent_Declare(
        googletest
        GIT_REPOSITORY https://github.com/google/googletest.git
        GIT_TAG        v1.15.2
    )
    set(gtest_force_shared_crt ON CACHE BOOL "" FORCE)
    FetchContent_MakeAvailable(googletest)
endif()

enable_testing()
add_executable(xxx_test xxx_test.cpp)
target_link_libraries(xxx_test PRIVATE GTest::gtest_main)
include(GoogleTest)
gtest_discover_tests(xxx_test)
```

## 4. éªŒè¯
- [ ] 4.1 å…¨é‡ç¼–è¯‘é€šè¿‡ (æ— é”™è¯¯æ— è­¦å‘Š)
- [ ] 4.2 æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡ (0 failures)
- [ ] 4.3 é›†æˆæµ‹è¯•é€šè¿‡ (å¦‚æœ‰)
```

---

## é˜¶æ®µ2: æ¶æ„å®¡æ ¸ (Google C++ è½¯ä»¶æ¶æ„å¸ˆ)

**ç›®æ ‡**: ä»¥ Google C++ æ¶æ„å¸ˆæ ‡å‡†å®¡æ ¸ `design.md`ï¼Œç¡®ä¿æ¶æ„è´¨é‡åå†ç”Ÿæˆ tasksã€‚

**å‚è€ƒæ ‡å‡†**: `docs/Google-CPP-è½¯ä»¶æ¶æ„å¸ˆè§’è‰²å®šä¹‰.md`

### 2.1 å®¡æ ¸ design.md

è¯»å– `openspec/changes/<name>/design.md`ï¼ŒæŒ‰ä»¥ä¸‹æ¸…å•é€é¡¹å®¡æ ¸:

**æ¶æ„å®¡æŸ¥:**
- [ ] æ¨¡å—èŒè´£æ˜¯å¦å•ä¸€æ˜ç¡®? (SRP)
- [ ] æ¥å£è®¾è®¡æ˜¯å¦åˆç†? (ä¾èµ–å€’ç½®ï¼Œé¢å‘æ¥å£)
- [ ] ä¾èµ–å…³ç³»æ˜¯å¦æ­£ç¡®? (æ— å¾ªç¯ä¾èµ–)
- [ ] æ‰©å±•æ€§æ˜¯å¦è¶³å¤Ÿ? (å¼€é—­åŸåˆ™)
- [ ] æ˜¯å¦ç¬¦åˆ KSPAICE å‘½åè§„èŒƒ?

**C++ è®¾è®¡å®¡æŸ¥:**
- [ ] æ˜¯å¦ä½¿ç”¨ç°ä»£ C++ ç‰¹æ€§? (æ™ºèƒ½æŒ‡é’ˆã€ç§»åŠ¨è¯­ä¹‰ã€optional/variant)
- [ ] å†…å­˜ç®¡ç†æ˜¯å¦å®‰å…¨? (RAIIï¼Œæ— è£¸ new/delete)
- [ ] å‚æ•°ä¼ é€’æ˜¯å¦åˆç†? (å°ç±»å‹ä¼ å€¼ã€å¤§ç±»å‹ const&)
- [ ] æ˜¯å¦è€ƒè™‘æ€§èƒ½? (string_view/spanã€é¿å…ä¸å¿…è¦æ‹·è´)
- [ ] é”™è¯¯å¤„ç†ç­–ç•¥æ˜¯å¦æ˜ç¡®? (optional/Expected)

**å®‰å…¨å®¡æŸ¥:**
- [ ] è¾“å…¥éªŒè¯?
- [ ] ç¼“å†²åŒºå®‰å…¨?
- [ ] çº¿ç¨‹å®‰å…¨?

### 2.2 å®¡æ ¸åé¦ˆ

```
ğŸ”´ Critical: æ¶æ„ç¼ºé™·ã€å®‰å…¨æ¼æ´ã€å†…å­˜æ³„æ¼é£é™© â†’ å¿…é¡»ä¿®æ”¹
ğŸŸ¡ Suggestion: è®¾è®¡æ”¹è¿›ã€æ€§èƒ½ä¼˜åŒ– â†’ å»ºè®®ä¿®æ”¹
ğŸŸ¢ Nice-to-have: ä»£ç é£æ ¼ã€æ³¨é‡Š â†’ å¯é€‰
```

**å®¡æ ¸ä¸é€šè¿‡** (å­˜åœ¨ ğŸ”´): ä¿®æ”¹ design.md â†’ é‡æ–°å®¡æ ¸
**å®¡æ ¸é€šè¿‡** (æ—  ğŸ”´): ç”Ÿæˆ/ç¡®è®¤ tasks.md â†’ è¿›å…¥é˜¶æ®µ3

### 2.3 å®¡æ ¸é€šè¿‡åæ›´æ–° tasks

ç¡®ä¿ tasks.md å·²ç”Ÿæˆä¸”ä¸å®¡æ ¸åçš„ design.md ä¸€è‡´:

```bash
openspec status --change "<name>" --json
# ç¡®è®¤æ‰€æœ‰ applyRequires artifacts çŠ¶æ€ä¸º "done"
```

---

## é˜¶æ®µ3: ä»£ç å¼€å‘ (OpenSpec Apply + Cursor-Agent)

**ç›®æ ‡**: åŸºäº openspec artifacts å®ç°ä»£ç ã€‚

### 3.1 è·å–å®ç°æŒ‡ä»¤

```bash
# è·å– apply æŒ‡ä»¤
openspec instructions apply --change "<name>" --json
```

è¿”å›å†…å®¹:
- `contextFiles`: éœ€è¦è¯»å–çš„ä¸Šä¸‹æ–‡æ–‡ä»¶ (proposal/specs/design/tasks)
- `progress`: æ€»ä»»åŠ¡æ•°ã€å·²å®Œæˆã€å‰©ä½™
- `tasks`: ä»»åŠ¡åˆ—è¡¨åŠçŠ¶æ€

### 3.2 è¯»å–ä¸Šä¸‹æ–‡

è¯»å– `contextFiles` ä¸­åˆ—å‡ºçš„æ‰€æœ‰ artifact æ–‡ä»¶ï¼Œç†è§£:
- proposal: å˜æ›´ç›®çš„å’ŒèŒƒå›´
- specs: ç²¾ç¡®çš„éœ€æ±‚è§„æ ¼å’Œåœºæ™¯
- design: æŠ€æœ¯æ–¹æ¡ˆå’Œæ¶æ„å†³ç­–
- tasks: å®ç°æ­¥éª¤æ¸…å•

### 3.3 é€ä»»åŠ¡å®ç°

å¯¹æ¯ä¸ª pending ä»»åŠ¡:

```
Working on task N/M: <task description>
[... å®ç°ä»£ç  ...]
âœ“ Task complete
```

**å¼€å‘è§„èŒƒ (å¿…é¡»éµå¾ª):**
1. æ–‡ä»¶ç¼–ç : UTF-8 BOM
2. å¤´æ–‡ä»¶ä¿æŠ¤: `#pragma once`
3. Include é¡ºåº: å¯¹åº”å¤´æ–‡ä»¶ â†’ Cç³»ç»Ÿ â†’ C++æ ‡å‡†åº“ â†’ ç¬¬ä¸‰æ–¹ â†’ é¡¹ç›®å†…éƒ¨
4. å‘½å: ç±» PascalCase (KSPAICEå‰ç¼€)ã€å‡½æ•° PascalCaseã€å˜é‡ snake_caseã€æˆå‘˜ m_ å‰ç¼€
5. æ™ºèƒ½æŒ‡é’ˆ: ç‹¬å  unique_ptrã€å…±äº« shared_ptrã€ç¦æ­¢è£¸ new/delete
6. å‡½æ•°é•¿åº¦: 20-40è¡Œç†æƒ³ï¼Œæœ€å¤§80è¡Œ

**æ¯å®Œæˆä¸€ä¸ªä»»åŠ¡:**
- æ ‡è®° tasks.md: `- [ ]` â†’ `- [x]`
- ç»§ç»­ä¸‹ä¸€ä¸ªä»»åŠ¡

**é‡åˆ°é—®é¢˜æ—¶æš‚åœ:**
- ä»»åŠ¡ä¸æ¸…æ™° â†’ å›æŸ¥ specsï¼Œå¿…è¦æ—¶æ›´æ–° artifact
- è®¾è®¡æœ‰é—®é¢˜ â†’ å›åˆ°é˜¶æ®µ2ä¿®æ”¹ design.md
- ç¼–è¯‘é”™è¯¯ â†’ ç«‹å³ä¿®å¤å†ç»§ç»­

### 3.4 æ„å»ºéªŒè¯

```bash
cd release && krepo-ng build -t <target> --debug
```

---

## é˜¶æ®µ4: æµ‹è¯•è°ƒè¯•

**ç›®æ ‡**: é€šè¿‡æµ‹è¯•éªŒè¯ä»£ç æ­£ç¡®æ€§ï¼Œä¿®å¤æ‰€æœ‰ Bugã€‚

### 4.1 å•å…ƒæµ‹è¯• (Google Test)

å¯¹ç…§ specs ä¸­çš„æ¯ä¸ª Scenario ç¼–å†™æµ‹è¯•:

```cpp
// specs ä¸­çš„ Scenario â†’ æµ‹è¯•ç”¨ä¾‹
// WHEN <condition> â†’ Arrange + Act
// THEN <result> â†’ Assert

TEST_F(ModuleTest, ScenarioName_ExpectedBehavior) {
    // Arrange: è®¾ç½® WHEN æ¡ä»¶
    // Act: æ‰§è¡Œæ“ä½œ
    // Assert: éªŒè¯ THEN ç»“æœ
}
```

**æµ‹è¯•è¦†ç›–è¦æ±‚:**
- æ¯ä¸ª spec requirement çš„æ¯ä¸ª scenario è‡³å°‘ä¸€ä¸ªæµ‹è¯•
- è¾¹ç•Œæ¡ä»¶æµ‹è¯• (ç©ºè¾“å…¥ã€æå€¼)
- é”™è¯¯è·¯å¾„æµ‹è¯•

### 4.2 è¿è¡Œæµ‹è¯•

```bash
cd release && krepo-ng build -t <test_target> --debug
./test_binary
```

### 4.3 è°ƒè¯•æµç¨‹

```
å‘ç°Bug â†’ å¤ç° â†’ å®šä½æ ¹å›  â†’ åˆ†æä¿®å¤æ–¹æ¡ˆ â†’ å®æ–½ â†’ éªŒè¯ â†’ å›å½’
```

### 4.4 æµ‹è¯•é€šè¿‡æ ‡å‡†

- [ ] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡ (0 failures)
- [ ] æ— ç¼–è¯‘è­¦å‘Š
- [ ] æ— å†…å­˜æ³„æ¼ (å¯é€‰: Valgrind/ASan)
- [ ] é›†æˆæµ‹è¯•é€šè¿‡ (å¦‚æœ‰)

---

## é˜¶æ®µ5: éªŒæ”¶ç¡®è®¤ (OpenSpec Verify)

**ç›®æ ‡**: é€šè¿‡ openspec verify éªŒè¯å®ç°æ˜¯å¦åŒ¹é… artifactsã€‚

### 5.1 æ‰§è¡ŒéªŒè¯

```bash
openspec status --change "<name>" --json
openspec instructions apply --change "<name>" --json
```

æŒ‰ä¸‰ä¸ªç»´åº¦éªŒè¯:

**Completeness (å®Œæ•´æ€§):**
- [ ] tasks.md ä¸­æ‰€æœ‰ä»»åŠ¡å·²å‹¾é€‰ `[x]`
- [ ] specs ä¸­æ¯ä¸ª requirement éƒ½æœ‰å¯¹åº”å®ç°
- [ ] æ¯ä¸ª requirement éƒ½æœ‰å¯¹åº”æµ‹è¯•

**Correctness (æ­£ç¡®æ€§):**
- [ ] å®ç°ä¸ spec çš„ WHEN/THEN åœºæ™¯ä¸€è‡´
- [ ] æ— åç¦» spec æ„å›¾çš„å®ç°

**Coherence (ä¸€è‡´æ€§):**
- [ ] å®ç°éµå¾ª design.md ä¸­çš„æ¶æ„å†³ç­–
- [ ] ä»£ç é£æ ¼ä¸é¡¹ç›®è§„èŒƒä¸€è‡´

### 5.2 éªŒè¯æŠ¥å‘Š

```
Verification Report: <change-name>

| ç»´åº¦         | çŠ¶æ€              |
|-------------|-------------------|
| Completeness | X/Y tasks, N reqs |
| Correctness  | M/N reqs covered  |
| Coherence    | Followed/Issues   |

CRITICAL: [å¿…é¡»ä¿®å¤çš„é—®é¢˜]
WARNING: [å»ºè®®ä¿®å¤çš„é—®é¢˜]
SUGGESTION: [å¯é€‰æ”¹è¿›]

Final: é€šè¿‡ / éœ€è¦ä¿®å¤
```

### 5.3 éªŒæ”¶å†³ç­–

```
å…¨éƒ¨é€šè¿‡ â†’ é˜¶æ®µ6 å½’æ¡£! ğŸ‰
å­˜åœ¨ CRITICAL â†’ å®šä½é—®é¢˜é˜¶æ®µï¼Œè¿›å…¥ä¸‹ä¸€è½®è¿­ä»£:
  â”œâ”€ éœ€æ±‚ç†è§£æœ‰è¯¯ â†’ å›åˆ°é˜¶æ®µ1 (æ›´æ–° specs)
  â”œâ”€ è®¾è®¡æœ‰ç¼ºé™·   â†’ å›åˆ°é˜¶æ®µ2 (ä¿®æ”¹ design.md)
  â”œâ”€ å®ç°æœ‰Bug    â†’ å›åˆ°é˜¶æ®µ3 (ä¿®æ”¹ä»£ç ) â†’ é˜¶æ®µ4 (é‡æµ‹)
  â””â”€ æµ‹è¯•ä¸å……åˆ†   â†’ å›åˆ°é˜¶æ®µ4 (è¡¥å……æµ‹è¯•)
```

---

## é˜¶æ®µ6: å½’æ¡£ (OpenSpec Archive)

éªŒæ”¶é€šè¿‡åå½’æ¡£å˜æ›´:

```bash
# åŒæ­¥ delta specs åˆ°ä¸» specs (å¦‚æœ‰)
# â†’ åˆå¹¶ openspec/changes/<name>/specs/ åˆ° openspec/specs/

# å½’æ¡£
mkdir -p openspec/changes/archive
mv openspec/changes/<name> openspec/changes/archive/YYYY-MM-DD-<name>
```

---

## å®Œæ•´å·¥ä½œæµä¸€è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¿­ä»£å¼€å‘å·¥ä½œæµ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ 1.éœ€æ±‚  â”‚â”€â”€â”€â–¶â”‚ 2.å®¡æ ¸  â”‚â”€â”€â”€â–¶â”‚ 3.å¼€å‘  â”‚â”€â”€â”€â–¶â”‚ 4.æµ‹è¯•   â”‚ â”‚
â”‚  â”‚ explore â”‚    â”‚ design  â”‚    â”‚ apply   â”‚    â”‚ GTest    â”‚ â”‚
â”‚  â”‚ new/ff  â”‚    â”‚ æ¶æ„å¸ˆ  â”‚    â”‚ agent   â”‚    â”‚ debug    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â–²              â”‚                              â”‚       â”‚
â”‚       â”‚         å®¡æ ¸ä¸é€šè¿‡                           â–¼       â”‚
â”‚       â”‚              â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚       â”‚              â–¼              â”‚ 5.éªŒæ”¶ verify   â”‚     â”‚
â”‚       â”‚         ä¿®æ”¹ design        â”‚ Completeness    â”‚     â”‚
â”‚       â”‚              â”‚              â”‚ Correctness     â”‚     â”‚
â”‚       â”‚              â–¼              â”‚ Coherence       â”‚     â”‚
â”‚       â”‚         é‡æ–°å®¡æ ¸            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚       â”‚                                     â”‚               â”‚
â”‚       â”‚                              é€šè¿‡?  â”‚               â”‚
â”‚       â”‚                           â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”              â”‚
â”‚       â”‚                          YES       NO              â”‚
â”‚       â”‚                           â”‚         â”‚               â”‚
â”‚       â”‚                     â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”     â”‚               â”‚
â”‚       â”‚                     â”‚ 6.å½’æ¡£  â”‚     â”‚               â”‚
â”‚       â”‚                     â”‚ archive â”‚     â”‚               â”‚
â”‚       â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚               â”‚
â”‚       â”‚                                     â”‚               â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    å›åˆ°å¯¹åº”é˜¶æ®µä¿®æ­£                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## OpenSpec å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤ | ç”¨é€” | å¯¹åº”é˜¶æ®µ |
|------|------|---------|
| `openspec list --json` | æŸ¥çœ‹æ‰€æœ‰å˜æ›´ | - |
| `openspec new change "<name>"` | åˆ›å»ºå˜æ›´ | é˜¶æ®µ1 |
| `openspec status --change "<name>"` | æŸ¥çœ‹çŠ¶æ€ | å…¨ç¨‹ |
| `openspec instructions <artifact> --change "<name>"` | è·å– artifact æŒ‡ä»¤ | é˜¶æ®µ1 |
| `openspec instructions apply --change "<name>"` | è·å–å®ç°æŒ‡ä»¤ | é˜¶æ®µ3 |

## å‚è€ƒæ–‡æ¡£

- æ¶æ„å¸ˆæ ‡å‡†: `docs/Google-CPP-è½¯ä»¶æ¶æ„å¸ˆè§’è‰²å®šä¹‰.md`
- OpenSpec Skills: `.cursor/skills/openspec-*/SKILL.md`
- OpenSpec Commands: `.cursor/commands/opsx-*.md`
